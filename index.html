<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <title>Lokasi FC MAKA</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg-gradient: linear-gradient(135deg, #f9fafb 0%, #e5e7eb 100%);
      --card-bg: #ffffff;
      --primary: #2563eb; 
      --accent: #06b6d4; 
      --text-main: #1f2937; 
      --text-sec: #6b7280; 
      --danger: #ef4444;
      --radius: 16px;
      --shadow-soft: 0 10px 25px -5px rgba(0, 0, 0, 0.05);
    }
    
    html { height: 100%; scroll-behavior: smooth; }
    
    body{
      min-height: 100%; margin:0;
      font-family: 'Poppins', sans-serif;
      background: var(--bg-gradient);
      color: var(--text-main);
      -webkit-font-smoothing: antialiased;
      text-align: center;
      padding-bottom: 100px; 
    }
    
    /* HEADER */
    header{
      padding: 15px 20px 5px 20px;
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(8px);
      position: sticky; top: 0; z-index: 1000;
      border-bottom: 1px solid rgba(0,0,0,0.05);
      display: flex; flex-direction: column; align-items: center;
      box-shadow: 0 4px 10px rgba(0,0,0,0.03);
    }
    
    .header-top { width: 100%; display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; }
    .logo-container img{ width: 80px; height: auto; filter: drop-shadow(0 2px 4px rgba(0,0,0,0.1)); }
    
    header h1{
      margin: 0; font-size: 1.2rem; font-weight: 800;
      background: -webkit-linear-gradient(45deg, var(--primary), var(--accent));
      -webkit-background-clip: text; -webkit-text-fill-color: transparent;
      text-align: left; margin-left: 10px; line-height: 1.2;
    }

    #helpBtnHeader {
      background: #eff6ff; color: var(--primary); border: 1px solid #dbeafe;
      padding: 6px 12px; border-radius: 15px; font-size: 0.8rem; font-weight: 600; cursor: pointer;
    }

    /* WEATHER WIDGET */
    #weatherWidget {
      display: none; align-items: center; justify-content: center; gap: 8px;
      background: linear-gradient(to right, #3b82f6, #06b6d4);
      color: white; padding: 8px 16px; border-radius: 20px; margin-bottom: 10px;
      font-size: 0.9rem; font-weight: 600; box-shadow: 0 4px 12px rgba(6, 182, 212, 0.3);
      animation: fadeInDown 0.5s ease; width: fit-content;
    }
    @keyframes fadeInDown { from { opacity:0; transform:translateY(-10px); } to { opacity:1; transform:translateY(0); } }

    .find-btn{
      padding: 10px 20px; width: 100%;
      background: linear-gradient(90deg, var(--primary) 0%, var(--accent) 100%);
      border: none; color: white; border-radius: 12px; cursor: pointer;
      font-weight: 600; font-size: 0.9rem; box-shadow: 0 4px 10px rgba(37, 99, 235, 0.2);
      transition: transform 0.2s;
    }
    .find-btn:active{ transform: scale(0.98); }

    .search-container { padding: 10px 20px 15px 20px; display: flex; justify-content: center; }
    #searchBox {
      width: 100%; max-width: 800px; padding: 12px 20px;
      border: 1px solid #e5e7eb; border-radius: 12px; font-size: 0.95rem;
      box-shadow: var(--shadow-soft); text-align: center; outline: none; background: white;
    }
    #searchBox:focus { border-color: var(--primary); }

    main.list-container{ display: flex; flex-direction: column; gap: 12px; padding: 0 20px 20px 20px; max-width: 800px; margin: 0 auto; }

    .card{
      background: var(--card-bg); border-radius: var(--radius); box-shadow: var(--shadow-soft);
      text-align: left; border: 1px solid rgba(0,0,0,0.03); opacity: 0; animation: fadeInUp 0.5s ease forwards;
    }
    @keyframes fadeInUp { to { opacity: 1; transform: translateY(0); } }
    
    .card summary {
      padding: 16px 20px; font-weight: 700; font-size: 1rem; cursor: pointer;
      list-style: none; display: flex; justify-content: space-between; align-items: center; transition: background 0.2s;
    }
    .card summary:hover { background: #f9fafb; }
    .card summary::-webkit-details-marker { display: none; }
    .card summary::after {
      content: '+'; color: var(--primary); background: rgba(37, 99, 235, 0.1);
      width: 28px; height: 28px; border-radius: 50%; display: flex; align-items: center; justify-content: center; transition: transform 0.3s;
    }
    .card[open] summary::after { content: '‚àí'; transform: rotate(180deg); background: var(--primary); color: white; }
    
    .card-distance { font-size: 0.75rem; color: var(--primary); background: rgba(37, 99, 235, 0.08); padding: 3px 8px; border-radius: 6px; margin-left: 8px; }
    .card-content { padding: 0 20px 20px 20px; border-top: 1px solid #f3f4f6; }
    .card-content p { margin: 8px 0; font-size: 0.9rem; color: var(--text-sec); }
    
    .card-actions { margin-top: 15px; display: flex; gap: 10px; width: 100%; flex-wrap: wrap; }
    .nav-link, .report-btn, .cp-btn { 
      flex: 1; padding: 12px 5px; border-radius: 10px; text-align: center; text-decoration: none; font-weight: 600; font-size: 0.9rem; display: flex; align-items: center; justify-content: center; white-space: nowrap; 
    }
    .nav-link { background: var(--primary); color: white; box-shadow: 0 2px 5px rgba(37, 99, 235, 0.2); }
    .report-btn { background: #fff1f2; color: var(--danger); border: 1px solid #fecdd3; }
    .cp-btn { background: #ecfeff; color: var(--accent); border: 1px solid #cffafe; flex-basis: 100%; margin-top: 5px;}

    #floatingSosBtn {
      position: fixed; bottom: 90px; right: 20px; width: 55px; height: 55px;
      background: var(--danger); color: white; border: none; border-radius: 50%; font-size: 1.5rem;
      box-shadow: 0 0 15px rgba(239, 68, 68, 0.6); z-index: 950; display: flex; align-items: center; justify-content: center;
      cursor: pointer; opacity: 0; pointer-events: none; transform: scale(0.5); transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275); animation: pulse-red 2s infinite;
    }
    #floatingSosBtn.show { opacity: 1; pointer-events: auto; transform: scale(1); }
    @keyframes pulse-red { 0% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.7); } 70% { box-shadow: 0 0 0 15px rgba(239, 68, 68, 0); } 100% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0); } }

    footer{
      position: fixed; bottom: 0; left: 0; width: 100%; background: white; padding: 12px;
      box-shadow: 0 -4px 20px rgba(0,0,0,0.05); display: flex; justify-content: center; z-index: 900; border-top: 1px solid #f3f4f6;
    }
    .footer-intro { font-size: 0.7rem; color: var(--text-sec); margin: 0 0 2px 0; opacity: 0.8; }
    .footer-title { font-weight: 700; color: var(--primary); margin: 0; font-size: 0.9rem; }
    .footer-subtitle { font-size: 0.7rem; color: var(--text-sec); margin: 0; }

    #helpPanel{
      position: fixed; top: 0; right: -340px; width: 280px; height: 100%;
      background: rgba(255, 255, 255, 0.98); box-shadow: -5px 0 30px rgba(0,0,0,0.15); padding: 25px; transition: right 0.3s ease; z-index: 1100; text-align: left;
    }
    #helpPanel a { display: block; background: #eff6ff; color: var(--primary); padding: 12px; border-radius: 12px; margin-top: 8px; text-decoration: none; font-weight: 600; }
    
    #welcomeOverlay{ position: fixed; inset: 0; background: rgba(0,0,0,0.5); backdrop-filter: blur(3px); display: flex; align-items: center; justify-content: center; z-index: 2000; }
    #welcomeBox{ background: white; padding: 30px; border-radius: 24px; width: 85%; max-width: 350px; text-align: center; }
    .btn-welcome-primary { background: var(--primary); color: white; border: none; padding: 12px; width: 100%; border-radius: 10px; margin-top:10px; font-weight: 600;}
    .btn-welcome-alt { background: transparent; color: var(--danger); border: 2px solid #fecdd3; padding: 12px; width: 100%; border-radius: 10px; margin-top:8px; font-weight: 600;}

    #toastNotification { position: fixed; top: 80px; left: 50%; transform: translate(-50%, -100px); background: #333; color: white; padding: 12px 24px; border-radius: 50px; font-size: 0.9rem; z-index: 3000; opacity: 0; transition: all 0.4s; }
    #toastNotification.show { transform: translate(-50%, 0); opacity: 1; }
    
    #toTopBtn { position: fixed; bottom: 40px; right: 25px; width: 40px; height: 40px; background: white; color: var(--primary); border: 1px solid #e5e7eb; border-radius: 50%; font-size: 1.2rem; cursor: pointer; z-index: 940; display: none; }

  </style>
</head>
<body>

  <header>
    <div class="header-top">
      <div class="logo-container" style="display: flex; align-items: center;">
        <img src="mlu-logo.png" alt="MLU" id="mluLogo" onerror="this.style.display='none'; document.querySelector('header h1').style.marginLeft='0';">
        <h1>Lokasi FC</h1>
      </div>
      <button id="helpBtnHeader">üÜò Bantuan</button>
    </div>
    <div id="weatherWidget">Loading Cuaca...</div>
    <button class="find-btn" id="manualFindBtn">üìç Temukan Lokasi Terdekat</button>
  </header>
  
  <div class="search-container">
      <input type="text" id="searchBox" placeholder="üîç Cari lokasi..." />
  </div>

  <main class="list-container"></main>

  <button id="floatingSosBtn">üÜò</button>
  <button id="toTopBtn">‚¨ÜÔ∏è</button>

  <footer>
    <div>
      <p class="footer-intro">Created by :</p>
      <p class="footer-title">MLU Squad ¬© 2025</p>
      <p class="footer-subtitle">Maka Lintas Utara</p>
      <p style="margin-top: 5px; font-size: 0.7rem; color: #9ca3af;">
         üë§ <span id="visitorCount">...</span> Pengguna
      </p>
    </div>
  </footer>

  <div id="helpPanel" aria-hidden="true">
    <h3 style="margin-top:0; border-bottom:1px solid #eee; padding-bottom:10px;">Pusat Bantuan</h3>
    <div style="margin-top:15px;">
      <a href="https://wa.me/6287722285445?text=Halo%2C%20bantuan%20towing">üîß CS (Kendala Unit)</a>
      <a href="https://wa.me/6285117468556?text=Halo%2C%20info%20tagihan">üí≥ Admin Tagihan / Xendit</a>
      <a href="https://wa.me/6285281760728">üëë Chat Akbar (RTO)</a>
      <a href="https://wa.me/6282310253644">üëë Chat Ilham (Ketum)</a>
    </div>
    <button id="closeHelp" style="margin-top:20px; width:100%; padding:12px; border:none; background:#f3f4f6; color:#666; border-radius:10px; font-weight:600;">Tutup Panel</button>
  </div>

  <div id="welcomeOverlay" style="display:none;">
    <div id="welcomeBox">
      <h3 style="margin-top:0;">Selamat Datang MAKA Riders</h3>
      <p style="color:#666;">Ada yang bisa dibantu?</p>
      <button class="btn-welcome-primary" id="welcomeFind">üìç Cari Charger Terdekat</button>
      <button class="btn-welcome-alt" id="welcomeSOS">üÜò Butuh Bantuan Darurat</button>
    </div>
  </div>

  <div id="toastNotification"></div>

  <script>
    const chargers = [
      { name: "Kelapa Gading", lat: -6.171583, lng: 106.899884, link: "https://maps.app.goo.gl/TKfjDuwrEFU2tHoF9", type: "Fast", nozzles: 3, hours: "24 jam 7/7", cost: "Gratis" },
      { name: "Radio Dalam", lat: -6.257621, lng: 106.802051, link: "https://maps.app.goo.gl/VULRCigqJ4iM8SSZ6", type: "Fast", nozzles: 3, hours: "24 jam 7/7", cost: "Gratis" },
      { name: "Bekasi", lat: -6.223919, lng: 106.010150, link: "https://maps.app.goo.gl/4fdRXFebJHJW63Dg7", type: "Fast", nozzles: 3, hours: "24 jam 7/7", cost: "Gratis (Parkir Berbayar)" },
      { name: "Gading Serpong", lat: -6.246792, lng: 106.629594, link: "https://maps.app.goo.gl/j5oeATswU7J9e9jj7", type: "Fast", nozzles: 3, hours: "24 jam 7/7", cost: "Gratis (Parkir Berbayar)" },
      { name: "Depok", lat: -6.402484, lng: 106.794240, link: "https://maps.app.goo.gl/FYH2yXqo1Mgipz6R7", type: "Fast", nozzles: 3, hours: "24 jam 7/7", cost: "Gratis" },
      { name: "Marbella Kemang", lat: -6.260627, lng: 106.813746, link: "https://maps.app.goo.gl/wwzT9iLS34WFRgyi9", type: "Fast", nozzles: 3, hours: "24 jam 7/7", cost: "Gratis (Parkir berbayar)" },
      { name: "Starvo PIK", lat: -6.124106, lng: 106.739785, link: "https://maps.app.goo.gl/6c5mKecEKvGqjv3Y7", type: "Medium", nozzles: 2, hours: "Senin‚ÄìJumat 08.00‚Äì19.00", cost: 'Berbayar (via Starvo)' },
      { name: "Starvo Kedoya", lat: -6.186334, lng: 106.766978, link: "https://maps.app.goo.gl/HSKbMPz5UrwW178V9", type: "Medium", nozzles: 1, hours: "09.00‚Äì17.00", cost: 'Berbayar (via Starvo)' },
      { name: "Ciledug", lat: -6.207012, lng: 106.714569, link: "https://maps.app.goo.gl/DSJiJyAW1BvL2Gwm8", type: "Fast", nozzles: 2, hours: "24 jam 7/7", cost: "Gratis" },
      { name: "Bintaro", lat: -6.276471, lng: 106.730544, link: "https://maps.app.goo.gl/yZNxoj2gyutxd4zJA", type: "Fast", nozzles: 2, hours: "24 jam 7/7", cost: "Gratis" },
      { name: "Motoriz Meruya", lat: -6.200132, lng: 106.737796, link: "https://maps.app.goo.gl/xLqKRsEZ9WpBpTjf9", type: "Fast", nozzles: 1, hours: "09.00‚Äì19.00 WIB", cost: "Rp. 5.000 / jam" },
      { name: "Motoriz Kranggan", lat: -6.340640, lng: 106.943016, link: "https://maps.app.goo.gl/bA1248oJ5C8pUXhg9", type: "Fast", nozzles: 2, hours: "09.00‚Äì19.00 WIB", cost: 'Berbayar (via Casan.id)' },
      { name: "Warung Bu Ratna Cirendeu", lat: -6.310043, lng: 106.758325, link: "https://maps.app.goo.gl/Eyi3nNZHNMU64iYY7", type: "Fast", nozzles: 2, hours: "06.00‚Äì23.59", cost: "1k per 10%" },
      { name: "Klinik Pratama Condet", lat: -6.273896, lng: 106.857598, link: "https://maps.app.goo.gl/hTwbD4wEKB8g5qnU8?g_st=ac", type: "Fast", nozzles: 2, hours: "07.00 - Malam", cost: 'Berbayar (via Casan.id)' },
      { name: "Mister Kong Steam Wash", lat: -6.350800, lng: 106.830000, link: "https://maps.app.goo.gl/n6nUVbQzWay6f2MG6", type: "Fast", nozzles: 2, hours: "10.00 - 22.00", cost: 'Berbayar (via Casan.id)' },
      { name: "Hotel Kartika Chandra", lat: -6.227645, lng: 106.819109, link: "https://maps.app.goo.gl/osYqkiaaebUoauxq5", type: "Fast", nozzles: 5, hours: "24 jam", cost: 'Berbayar (via Starvo)' },
      { name: "Suzuki Cengkareng", lat: -6.150602, lng: 106.727243, link: "https://maps.app.goo.gl/uy6GpcKEHUtQHoFz7?g_st", type: "Fast", nozzles: 2, hours: "24 jam 7/7", cost: 'Berbayar (via Casan.id)' },
      { name: "Dem Pro Kalimalang", lat: -6.244279, lng: 106.902554, link: "https://maps.app.goo.gl/YaQDCmQ2R5u1d4SP8", type: "Fast", nozzles: 2, hours: "24 jam 7/7", cost: 'Berbayar (via Casan.id)' },
      { name: "Trans go Matraman", lat: -6.208155, lng: 106.874669, link: "https://maps.app.goo.gl/dZD5YVGP7NHFJ8bKA", type: "Fast", nozzles: "2", hours: "24 jam", cost: 'Berbayar (via Casan.id)', cp: "6285697279354" },
      { name: "Motoriz Sukapura", lat: -6.139714, lng: 106.922504, link: "https://maps.app.goo.gl/eePUBDDHDBXboHq4A?g_st=ipc", type: "Fast", nozzles: 2, hours: "24 jam", cost: 'Berbayar (via Casan.id)' },
      { name: "Bengkel Bubut Kemayoran", lat: -6.171770, lang: 106.856194,  link: "https://maps.app.goo.gl/ytu5Szsaq5nZGyFR8", type: "Fast", nozzles: 1, hours: "24 jam 7/7", cost: 'Berbayar (via Casan.id)' },
    ];

    function showToast(message) {
      const toast = document.getElementById('toastNotification');
      toast.textContent = message;
      toast.classList.add('show');
      setTimeout(() => toast.classList.remove('show'), 3000);
    }

    function getDistance(lat1, lon1, lat2, lon2) {
      const R = 6371; 
      const dLat = (lat2 - lat1) * Math.PI / 180;
      const dLon = (lon2 - lon1) * Math.PI / 180;
      const a = Math.sin(dLat/2)**2 + Math.cos(lat1*Math.PI/180)*Math.cos(lat2*Math.PI/180)*Math.sin(dLon/2)**2;
      const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));
      return R * c;
    }

    async function fetchWeather(lat, lng) {
        const widget = document.getElementById('weatherWidget');
        widget.style.display = 'flex';
        widget.innerHTML = '‚è≥ Cek Cuaca...';
        try {
            const response = await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lng}&current_weather=true`);
            const data = await response.json();
            if(data.current_weather) {
                const temp = data.current_weather.temperature;
                const code = data.current_weather.weathercode;
                let icon = '‚òÅÔ∏è', desc = 'Berawan';
                if (code === 0) { icon = '‚òÄÔ∏è'; desc = 'Cerah'; }
                else if (code >= 1 && code <= 3) { icon = '‚õÖ'; desc = 'Berawan'; }
                else if (code >= 51 && code <= 67) { icon = 'üåßÔ∏è'; desc = 'Hujan Ringan'; }
                else if (code >= 80 && code <= 99) { icon = '‚õàÔ∏è'; desc = 'Hujan/Badai'; }
                else if (code >= 71) { icon = '‚ùÑÔ∏è'; desc = 'Dingin'; }
                widget.innerHTML = `${icon} ${desc} ‚Ä¢ ${temp}¬∞C`;
            }
        } catch (error) {
            widget.innerHTML = '‚ö†Ô∏è Gagal muat cuaca';
        }
    }

    // --- SCRIPT VISITOR COUNTER REAL USER ---
    async function updateVisitCounter(countEl) {
      if (!countEl) return;
      const namespace = 'mlu-charging-app-final'; 
      const key = 'visits';
      const localToken = 'mlu_visited_real'; 

      try {
        const isReturningUser = localStorage.getItem(localToken);
        let url = '';
        if (isReturningUser) {
          url = `https://api.countapi.xyz/get/${namespace}/${key}`;
        } else {
          url = `https://api.countapi.xyz/hit/${namespace}/${key}`;
          localStorage.setItem(localToken, 'true');
        }
        const res = await fetch(url);
        const data = await res.json();
        
        if(data && typeof data.value !== 'undefined'){
          countEl.textContent = data.value.toLocaleString();
        } else {
          countEl.textContent = "1"; 
        }
      } catch(err){
        console.error("Gagal muat counter", err);
        countEl.textContent = "‚Äî"; 
      }
    }

    function renderCards(list) {
      const container = document.querySelector('.list-container');
      container.innerHTML = '';
      if (list.length === 0) container.innerHTML = '<div style="text-align:center; padding:40px; opacity:0.6;"><p>Lokasi tidak ditemukan ü§î</p></div>';
      
      list.forEach((charger, index) => {
        const card = document.createElement('details');
        card.className = 'card';
        card.style.animationDelay = (index * 50) + 'ms'; 
        const reportLink = `https://wa.me/6287722285445?text=${encodeURIComponent(`Lapor: ${charger.name} bermasalah.`)}`;
        let cpBtnHTML = '';
        if (charger.cp) {
            cpBtnHTML = `<a href="https://wa.me/${charger.cp}" target="_blank" class="cp-btn">üìû Hubungi CP</a>`;
        }
        card.innerHTML = `
          <summary>
            <div style="display:flex; align-items:center;">
                <span>${charger.name}</span>
                ${charger.distance ? `<span class="card-distance">${charger.distance.toFixed(1)} km</span>` : ''}
            </div>
          </summary>
          <div class="card-content">
            <p>‚ö° <strong>Tipe:</strong> ${charger.type} (${charger.nozzles} nozzle)</p>
            <p>üïí ${charger.hours}</p>
            <p>üíµ ${charger.cost}</p>
            <div class="card-actions">
              <a href="${charger.link}" target="_blank" class="nav-link">üìç Navigasi</a>
              <a href="${reportLink}" target="_blank" class="report-btn">‚ö†Ô∏è Lapor</a>
              ${cpBtnHTML}
            </div>
          </div>
        `;
        container.appendChild(card);
      });
    }

    document.addEventListener('DOMContentLoaded', ()=>{
      const findBtn = document.getElementById('manualFindBtn');
      const helpPanel = document.getElementById('helpPanel');
      const floatingSosBtn = document.getElementById('floatingSosBtn');
      const toTopBtn = document.getElementById('toTopBtn');
      
      // Update Visitor Counter
      updateVisitCounter(document.getElementById('visitorCount'));

      window.addEventListener('scroll', () => {
        const scrollY = window.scrollY || document.documentElement.scrollTop;
        if (scrollY > 100) {
          floatingSosBtn.classList.add('show');
          toTopBtn.style.display = 'block';
        } else {
          floatingSosBtn.classList.remove('show');
          toTopBtn.style.display = 'none';
        }
      });

      const openHelp = () => { helpPanel.style.right = '0px'; helpPanel.setAttribute('aria-hidden', 'false'); };
      const closeHelp = () => { helpPanel.style.right = '-340px'; };

      document.getElementById('helpBtnHeader').addEventListener('click', openHelp);
      floatingSosBtn.addEventListener('click', openHelp);
      document.getElementById('closeHelp').addEventListener('click', closeHelp);
      document.getElementById('welcomeSOS').addEventListener('click', ()=>{ document.getElementById('welcomeOverlay').style.display='none'; openHelp(); });

      findBtn.addEventListener('click', () => {
        if(!navigator.geolocation) return showToast("GPS tidak didukung");
        findBtn.innerHTML = '‚è≥ Mencari...';
        navigator.geolocation.getCurrentPosition(pos => {
          const {latitude: lat, longitude: lng} = pos.coords;
          fetchWeather(lat, lng);
          chargers.forEach(c => c.distance = getDistance(lat, lng, c.lat, c.lng));
          chargers.sort((a, b) => a.distance - b.distance);
          renderCards([...chargers]);
          findBtn.innerHTML = '‚úÖ Lokasi Terdekat';
          setTimeout(() => { 
             const first = document.querySelector('details');
             if(first) {
                 first.open = true;
                 window.scrollTo({top: first.offsetTop - 180, behavior: 'smooth'});
             }
          }, 300);
        }, () => { findBtn.innerHTML = 'üìç Temukan Lokasi'; showToast("Gagal ambil lokasi. Cek GPS."); });
      });

      document.getElementById('searchBox').addEventListener('input', (e)=>{
        const q = e.target.value.toLowerCase();
        const filtered = chargers.filter(c => (c.name+c.cost).toLowerCase().includes(q));
        renderCards(filtered);
      });

      document.getElementById('welcomeFind').addEventListener('click', ()=>{ document.getElementById('welcomeOverlay').style.display='none'; findBtn.click(); });
      if(!localStorage.getItem('mlu_v5')) document.getElementById('welcomeOverlay').style.display='flex';
      localStorage.setItem('mlu_v5','1');
      
      toTopBtn.addEventListener('click', () => window.scrollTo({top:0, behavior:'smooth'}));

      renderCards(chargers);
    });
  </script>
</body>
</html>
